<h2>Crear partida</h2>
<div class="container">
    <div class="row">
        <div class='col-sm-6'>
            <div class="form-group text-center">
                <input class="flatpickr flatpickr-input" type="hidden" placeholder="¿Cuándo quedamos?">
            </div>
        </div>
    </div>
    <div class="row">
        <div class='col-sm-6'>
            <div class="form-group text-center">
                <input id="game-name" type="text" placeholder="¿A qué jugamos?">
                <input id="game-id" type="hidden">
            </div>
        </div>
    </div>
</div>
<script>
    let lastKey = -1
    jQuery(function () {
        flatpickr(".flatpickr", {
            enableTime: true,
            altInput:   true,
            altFormat:  "l d, a \\la\\s H:i",
            dateFormat: "Y-m-d H:i",
            time_24hr:  true,
            locale:     'es',
        });

        jQuery("#game-name").autocomplete({
            source: function (request, response) {
                jQuery.post('https://alcazabadejuegos.es/wp-admin/admin-ajax.php',
                    {action: 'search_game', query: request.term},
                    function (data) {
                        console.log(data);
                        response(data);
                    },
                );
            },
            minLength: 3,
            delay: 1000,
            select: function( event, ui ) {
                jQuery("#game-id").val(ui.item.id);
            }
        });
    });
</script>